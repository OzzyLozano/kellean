{% load static %}
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Untree.co">
  <meta name="description" content="" />
  <meta name="keywords" content="bootstrap, bootstrap4" />

  <!-- Bootstrap CSS -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link href="{% static 'css/tiny-slider.css' %}" rel="stylesheet">
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
  <title>MercaTec</title>
</head>

<body>
  <!-- Start Header/Navigation -->
  <nav class="custom-navbar navbar navbar-expand-md navbar-dark bg-dark" arial-label="Furni navigation bar">
    <div class="container">
      <a class="navbar-brand" href="{% url "tienda:inicio" %}">MercaTec<span>.</span></a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni"
        aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsFurni">
       <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
  <li class="nav-item {% if request.resolver_match.url_name == 'inicio' %}active{% endif %}">
    <a class="nav-link" href="{% url 'tienda:inicio' %}">Inicio</a>
  </li>
  <li class="nav-item {% if request.resolver_match.url_name == 'all_products' %}active{% endif %}">
    <a class="nav-link" href="{% url 'tienda:all_products' %}">Tienda</a>
  </li>
<li class="nav-item dropdown"style="position: relative;">
  <a href="#" class="nav-link dropdown-toggle" id="categoriasDropdown" role="button" aria-expanded="false" style="color: #007bff; cursor: pointer; user-select: none;">
    Categorías
  </a>
  <ul class="dropdown-menu" aria-labelledby="categoriasDropdown" 
      style="
        display: none; 
        position: absolute; 
        background-color: #1e293b; /* azul oscuro */
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        list-style: none; 
        padding: 8px 0; 
        margin: 0; 
        min-width: 180px; 
        z-index: 1000;
      ">
    <li>
      <a class="dropdown-item" href="{% url "tienda:tecnologia" %}" 
         style="
            display: block; 
            padding: 10px 20px; 
            color: #f1f5f9; /* texto claro */
            text-decoration: none;
            transition: background-color 0.2s ease;
         "
         onmouseover="this.style.backgroundColor='#334155'" 
         onmouseout="this.style.backgroundColor='transparent'">
         Tecnologia
      </a>
    </li>
    <li>
      <a class="dropdown-item" href="{% url "tienda:domesticos" %}" 
         style="
            display: block; 
            padding: 10px 20px; 
            color: #f1f5f9; /* texto claro */
            text-decoration: none;
            transition: background-color 0.2s ease;
         "
         onmouseover="this.style.backgroundColor='#334155'" 
         onmouseout="this.style.backgroundColor='transparent'">
         Domesticos
      </a>
    </li>
    <li>
      <a class="dropdown-item" href="{% url "tienda:deportes" %}" 
         style="
            display: block; 
            padding: 10px 20px; 
            color: #f1f5f9; /* texto claro */
            text-decoration: none;
            transition: background-color 0.2s ease;
         "
         onmouseover="this.style.backgroundColor='#334155'" 
         onmouseout="this.style.backgroundColor='transparent'">
         Deportes
      </a>
    </li>
  </ul>
</li>

  <li class="nav-item {% if request.resolver_match.url_name == 'about' %}active{% endif %}">
    <a class="nav-link" href="{% url 'tienda:about' %}">Acerca de nosotros</a>
  </li>
  <li class="nav-item {% if request.resolver_match.url_name == 'blog' %}active{% endif %}">
    <a class="nav-link" href="{% url 'tienda:blog' %}">Blog</a>
  </li>
  {% if request.user.is_authenticated and request.user.user_type == "CMP" %}
    <li class="nav-item {% if request.resolver_match.url_name == 'ver_carrito' %}active{% endif %}">
      <a class="nav-link" href="{% url 'tienda:ver_carrito' request.user.id %}">Carrito</a>
    </li>
  {% endif %}
</ul>


        <ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
        <li class="nav-item dropdown me-3">
        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <img src="{% static 'images/user.svg' %}" alt="User Icon" class="me-1">
          {% if request.user.is_authenticated %}
            <span>{{ request.user }}</span>
          {% endif %}
        </a>
        {% if request.user.is_authenticated %}
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
          <li><a class="dropdown-item" href="{% url 'accounts:ver_usuario' request.user.id %}">Ver perfil</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="{% url 'accounts:cerrar_sesion' %}">Cerrar sesión</a></li>
        </ul>
        {% else %}
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
          <li><a class="dropdown-item" href="{% url 'accounts:iniciar_sesion' %}">Iniciar sesión</a></li>
          <li><a class="dropdown-item" href="{% url 'accounts:crear_usuario' %}">Registrarse</a></li>
        </ul>

        {% endif %}
      </li>
      </ul>

      </div>
    </div>
  </nav>
  <!-- End Header/Navigation -->

  <!-- Start Hero Section -->
  {% block content %}
  
  {% endblock content %}


  <footer class="footer-section mt-5">
			<div class="container relative">

				

				<div class="row g-5 mb-5">
					<div class="col-lg-4">
						<div class="mb-4 footer-logo-wrap"><a href="#" class="footer-logo">MercaTec<span>.</span></a></div>
						<p class="mb-4">Calidad, confianza y servicio excepcional. En cada compra, garantizamos productos cuidadosamente seleccionados, un proceso fácil y seguro, y atención personalizada 24/7. Porque tu satisfacción es nuestra prioridad.</p>

						<ul class="list-unstyled custom-social d-flex  gap-3">
              <li>
                <a href="https://www.facebook.com/" target="_blank" style="
                  width: 40px;
                  height: 40px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  border-radius: 50%;
                  background-color: #eee;
                  color: #000;
                  text-decoration: none;
                ">
                  <span class="fa fa-brands fa-facebook-f"></span>
                </a>
              </li>
              <li>
                <a href="https://www.x.com/" target="_blank" style="
                  width: 40px;
                  height: 40px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  border-radius: 50%;
                  background-color: #eee;
                  color: #000;
                  text-decoration: none;
                ">
                  <span class="fa fa-brands fa-twitter"></span>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/" target="_blank" style="
                  width: 40px;
                  height: 40px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  border-radius: 50%;
                  background-color: #eee;
                  color: #000;
                  text-decoration: none;
                ">
                  <span class="fa fa-brands fa-instagram"></span>
                </a>
              </li>
            </ul>
					</div>

					<div class="col-lg-8">
						<div class="row links-wrap">
							<div class="col-6 col-sm-6 col-md-3">
								<ul class="list-unstyled">
									<li><a href="{% url "tienda:about" %}">Acerca de nosotros</a></li>
									<li><a href="{% url "tienda:blog" %}">Blog</a></li>
									<li><a href="#">Politicas de privacidad</a></li>
								</ul>
							</div>

							
						</div>
					</div>

				</div>

				<div class="border-top copyright">
					<div class="row pt-4">
						<div class="col-lg-6">
							<p class="mb-2 text-center text-lg-start">Copyright &copy;<script>document.write(new Date().getFullYear());</script>. Todos los derechos reservados. <!-- License information: https://untree.co/license/ -->
            </p>
						</div>

						<div class="col-lg-6 text-center text-lg-end">
							<ul class="list-unstyled d-inline-flex ms-auto">
								<li class="me-4"><a href="#">Terminos &amp; condiciones</a></li>
								<li><a href="#">Politicas de privacidad</a></li>
							</ul>
						</div>

					</div>
				</div>

			</div>
		</footer>

  <!-- End Popular Product -->
   <!-- Bootstrap Bundle JS (incluye Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoXp6G+6+U6Ej7x5iL4z8Nljd3ql1zFq00v8Fcf7o4a4+U4" crossorigin="anonymous"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/tiny-slider.js' %}"></script>
<script src="{% static 'js/custom.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.querySelector("#categoriasDropdown");
    const menu = toggle.nextElementSibling;

    toggle.addEventListener("click", function (e) {
      e.preventDefault();
      if (menu.style.display === "block") {
        menu.style.display = "none";
        toggle.setAttribute("aria-expanded", "false");
      } else {
        menu.style.display = "block";
        toggle.setAttribute("aria-expanded", "true");
      }
    });

    document.addEventListener("click", function (e) {
      if (!toggle.contains(e.target) && !menu.contains(e.target)) {
        menu.style.display = "none";
        toggle.setAttribute("aria-expanded", "false");
      }
    });
  });
</script>
</body>
</html>
